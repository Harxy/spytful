<!DOCTYPE html>
<html>

<head>
  <!--script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script-->
  <script src="./javascripts/jquery.min.js" type="text/javascript"></script>
  <script src="./socket.io/socket.io.js"></script>
  <script src='./javascripts/uimain.js'></script>
  <script src='./javascripts/uigame.js'></script>
  <script src='./javascripts/uiboard.js'></script>
  <script src='./javascripts/uihex.js'></script>
  <script src='./javascripts/uideck.js'></script>
  <script src='./javascripts/uicard.js'></script>
  <script src='./javascripts/uiplayer.js'></script>
  <link rel="SHORTCUT ICON" href="images/favicon.ico">
</head>

<body>
  <canvas id="canvas" width="1200" height="478"></canvas>
  <br/>
  <button id="butEndTurn">End the current turn</button>
  <button id="butClearRoute">Clear your current route</button>
  <button id="butFinishRoute">Finish extraction</button>
  <button id="butReady">Ready</button>
  <button id="butStartGame">Start Game</button>
  <ul id="messages"></ul>
  <form action="">
    <input id="m" autocomplete="off" />
    <button>Send</button>
  </form>


  <script>
  var socket;
  function startSocket() {
    socket = io();
    socket.emit("game", "joined the game");
    $('form').submit(function() {
      socket.emit('game', $('#m').val());
      $('#m').val('');
      return false;
    });
    socket.on('game', function(msg) {
      $('#messages').append($('<li>').text(msg));
    });
    socket.on('gameState', function(gameData) {
      game = gameData;
      console.log(gameData);
      draw();
    });
    socket.on('gameUpdate', function(mergeData) {
      console.log(mergeData);
      for (var attr in mergeData) { game[attr] = mergeData[attr]; }
      draw();
    });
    socket.emit("requestGame", "");
  }
  </script>
</body>

</html>
